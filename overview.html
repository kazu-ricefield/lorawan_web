<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>３万円ではじめるLoRa WAN</title>
<link rel="stylesheet" href="styles.css">
<style type="text/css">
.auto-style4 {
	margin: 5px;
}
.auto-style5 {
	margin-left: 40px;
}
</style>
</head>
<body onload="loadNavbar()">
<div id="navbar"></div>
<div id="content">
<!-- コンテンツがここに入ります -->

<h1>３万円ではじめるLoRaWAN</h1>
<h2>この記事のゴール</h2>

<p class="auto-style5">
大まかな作業は次の１から３です。</p>
	<p class="auto-style5">
	<strong>
	<a href="images/ttn_mapper_shizuoka.png" target="_blank">
	<img alt="TTN_Map_Shizuoka" class="auto-style4" height="522%" src="images/ttn_mapper_shizuoka.png" style="float: right" width="30%"></a>１．自宅にLoRaWANゲートウェイを設置</strong><br>
	　ゲートウェイを家庭内のLANに接続し、The Things Network 
	(TTN)に登録します。これによって公共ゲートウェイを設置することになります。公共ゲートウェイは知らない第三者が使うこともできるゲートウェイです。屋外の良いロケーションにアンテナを設置した場合には数キロ圏内のデバイスがあなたのゲートウェイを使用できる可能性があります。室内設置ではせいぜい数百メートル圏内なので第三者が利用できる可能性は低いでしょう。<br>
	TTNへの登録の中でゲートウェイの位置情報を公開する設定にすると、右のようにTTN 
	Mapperの地図上にゲートウェイ位置情報が掲載されます。この中のひとつが今回私が設置した公共ゲートウェイです。<br><br><br>

</p>
	<p class="auto-style5">
	<strong>２．温度・湿度センサーをLoRaWANのエンドデバイスとして登録<a href="images/consol.png" target="_blank"><br>
	<img alt="consol" class="auto-style4" height="25%" src="images/consol.png" style="float: left" width="30%"></a></strong><br>
	もしも、そばに公共ゲートウェイが設置されていれば、特に断りもなく、それを利用してエンドデバイスをTTNに接続し、それを利用することができます。今回は自分でゲートウェイを設置しましたので、もちろんこのゲートウェイ経由でデバイスをインターネットに接続することになります。The 
	Things Stack のコンソールでデバイスの認証などの設定を行います。裏方ではJoin Serverがセキュアな通信を確立してくれます。<br>
	<br><br>

	<br>

</p>
	<p class="auto-style5">
	<strong>３．クラウド上のアプリケーションサーバを利用し、温度・湿度のグラフを表示させる
	</strong><br>
	エンドデバイスが登録できたら、エンドデバイスが送信してくるデータ（ペイロード）を整えて、アプリケーションサーバにデータを渡すように設定します。アプリケーションサーバは、受け取ったデータをグラフにプロットさせるなどの機能を提供してくれます。今回はThings 
	Speakというアプリケーションサーバのサービスを利用し、グラフを表示させています。</p>
	<p class="auto-style5">
【実際の過去２４時間の測定データを表示しています】　<br>
<iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2339689/charts/1?bgcolor=%23ffffff&color=%23d62020&days=1&dynamic=true&results=300&timescale=30&title=Temperature&type=line&yaxismax=25&yaxismin=0"></iframe>
<iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2339689/charts/2?bgcolor=%23ffffff&color=%230000ff&days=1&dynamic=true&results=300&timescale=30&title=Humidity&type=line&yaxismax=100&yaxismin=30"></iframe>

	<br><br>
	ここまでが今回のゴールです。LoRaWANに触れて、利用してみることでLoRaWANプラットフォームがどのようなものが理解できると思います。</p>

</div>
</body>
</html>
